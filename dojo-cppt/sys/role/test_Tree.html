
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<title></title>

  <style type="text/css">
    @import "http://resjs.newcapec.cn:8082/resjs/commons/components/dojo/dijit/themes/soria/soria.css";
    @import "http://resjs.newcapec.cn:8082/resjs/commons/components/dojo-src/dijit/themes/claro/document.css";
    @import "http://resjs.newcapec.cn:8082/resjs/commons/components/dojo-src/dijit/tests/css/dijitTests.css";
    @import "http://resjs.newcapec.cn:8082/dojox/cbtree/themes/soria/soria.css";
  </style>
<style>
html,body {
	width: 100%;
	height: 100%;
	overflow: hidden;
	padding: 0;
	margin: 0;
}
</style>

<script type="text/javascript" src="http://resjs.newcapec.cn:8082/dojox/js/base.js"></script>

<script type="text/javascript">
	var djConfig = {
		locale : top.location.search.match(/locale=([\w\-]+)/) ? RegExp.$1 : "zh",
		async : true,
		bindEncoding : "UTF-8",
		modulePaths : {
			"internal" : "/rfs"
		},
		packages : [ {
			name : "capec",
			location : "http://dojox.newcapec.cn:8082/dojox/dojox"
		}]
	};
</script>

<script type="text/javascript" src="http://resjs.newcapec.cn:8082/resjs/commons/components/dojo/dojo/dojo.js" data-dojo-config="isDebug:false,parseOnLoad:true"></script>

<script type="text/javascript">
	require(["dojo/ready",
 	    "capec/dialog/DeleteConfirm",
 	    "dojo/_base/unload",
 		"capec/CheckboxTree",
 		"capec/tree/CbForestStoreModel",
 	    "dojox/layout/ContentPane",
 		"dijit/layout/BorderContainer",
 		"dojox/layout/ToggleSplitter",
 		"dojo/data/ItemFileWriteStore"], function($ready,$DeleteConfirm,$unload,$Tree,$ForestStoreModel) {

 		$ready(function(){


 			var continentStore = new dojo.data.ItemFileWriteStore({
 				url: "countries.json"
 			});

 			var continentModel = new $ForestStoreModel({
 				store:continentStore,
 				query:{type:"continent"},
 			    rootId:"continentRoot",
 			    rootLabel:"Continents",
 			    childrenAttrs:["children"]
 			});

 			var __tree = new $Tree({
 				model: continentModel,
 				openOnClick: true
 			})

 			console.log(__tree);
 			__tree.placeAt("tree");


 			new $DeleteConfirm({
 				img: require.toUrl("internal/images/del_32.png")
 			})

 			$unload.addOnWindowUnload(function(){
 				try{
 					dijit.byId("_main_tab_156")._onUnloadHandler();
 				}catch($ex){console.log($ex)}
 			});
 		});
 	});
</script>

</head>

<body class="soria">
<div id="tree"></div>
ssss
</body>
</html>